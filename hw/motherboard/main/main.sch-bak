EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "KAPINE Motherboard"
Date ""
Rev "1"
Comp "Verneri Hirvonen"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Switch:SW_Push SW1
U 1 1 5E3D0E9E
P 5300 2100
F 0 "SW1" H 5500 2000 50  0000 C CNN
F 1 "SW_Push" H 5200 2000 50  0000 C CNN
F 2 "Button_Switch_SMD:SW_SPST_TL3342" H 5300 2300 50  0001 C CNN
F 3 "" H 5300 2300 50  0001 C CNN
	1    5300 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 2100 5550 2100
$Comp
L Device:C_Small C11
U 1 1 5E3D1058
P 5300 1850
F 0 "C11" V 5200 1750 50  0000 C CNN
F 1 "100n" V 5200 2000 50  0000 C CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5300 1850 50  0001 C CNN
F 3 "~" H 5300 1850 50  0001 C CNN
	1    5300 1850
	0    1    1    0   
$EndComp
Wire Wire Line
	5400 1850 5550 1850
Wire Wire Line
	5550 1850 5550 2100
Connection ~ 5550 2100
Wire Wire Line
	5550 2100 5950 2100
Wire Wire Line
	5200 1850 5050 1850
Wire Wire Line
	5050 1850 5050 2100
Wire Wire Line
	5050 2100 5100 2100
Wire Wire Line
	5050 2100 4850 2100
Connection ~ 5050 2100
$Comp
L power:GND #PWR09
U 1 1 5E3D149B
P 4850 2100
F 0 "#PWR09" H 4850 1850 50  0001 C CNN
F 1 "GND" H 4850 2150 50  0000 C CNN
F 2 "" H 4850 2100 50  0001 C CNN
F 3 "" H 4850 2100 50  0001 C CNN
	1    4850 2100
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5E3D16CD
P 4600 2300
F 0 "R1" V 4700 2300 50  0000 C CNN
F 1 "10k" V 4600 2300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4530 2300 50  0001 C CNN
F 3 "~" H 4600 2300 50  0001 C CNN
	1    4600 2300
	0    1    1    0   
$EndComp
$Comp
L power:VDD #PWR05
U 1 1 5E3D201C
P 4250 2050
F 0 "#PWR05" H 4250 1900 50  0001 C CNN
F 1 "VDD" H 4267 2223 50  0000 C CNN
F 2 "" H 4250 2050 50  0001 C CNN
F 3 "" H 4250 2050 50  0001 C CNN
	1    4250 2050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR06
U 1 1 5E3D20BD
P 4250 2550
F 0 "#PWR06" H 4250 2300 50  0001 C CNN
F 1 "GND" H 4255 2377 50  0000 C CNN
F 2 "" H 4250 2550 50  0001 C CNN
F 3 "" H 4250 2550 50  0001 C CNN
	1    4250 2550
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR01
U 1 1 5E3D29C9
P 750 2900
F 0 "#PWR01" H 750 2750 50  0001 C CNN
F 1 "VDD" H 767 3073 50  0000 C CNN
F 2 "" H 750 2900 50  0001 C CNN
F 3 "" H 750 2900 50  0001 C CNN
	1    750  2900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 5E3D29E5
P 750 3300
F 0 "#PWR02" H 750 3050 50  0001 C CNN
F 1 "GND" H 755 3127 50  0000 C CNN
F 2 "" H 750 3300 50  0001 C CNN
F 3 "" H 750 3300 50  0001 C CNN
	1    750  3300
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C1
U 1 1 5E3D2A82
P 750 3100
F 0 "C1" H 842 3146 50  0000 L CNN
F 1 "4.7u" H 842 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 750 3100 50  0001 C CNN
F 3 "~" H 750 3100 50  0001 C CNN
	1    750  3100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 5E3D2AD8
P 1100 3100
F 0 "C3" H 1192 3146 50  0000 L CNN
F 1 "100n" H 1192 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1100 3100 50  0001 C CNN
F 3 "~" H 1100 3100 50  0001 C CNN
	1    1100 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C5
U 1 1 5E3D2B00
P 1450 3100
F 0 "C5" H 1542 3146 50  0000 L CNN
F 1 "100n" H 1542 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1450 3100 50  0001 C CNN
F 3 "~" H 1450 3100 50  0001 C CNN
	1    1450 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 5E3D2B2A
P 1800 3100
F 0 "C7" H 1892 3146 50  0000 L CNN
F 1 "100n" H 1892 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1800 3100 50  0001 C CNN
F 3 "~" H 1800 3100 50  0001 C CNN
	1    1800 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	750  2900 750  2950
Wire Wire Line
	750  3200 750  3250
Wire Wire Line
	750  2950 1100 2950
Wire Wire Line
	1800 2950 1800 3000
Connection ~ 750  2950
Wire Wire Line
	750  2950 750  3000
Wire Wire Line
	750  3250 1100 3250
Wire Wire Line
	1800 3250 1800 3200
Connection ~ 750  3250
Wire Wire Line
	750  3250 750  3300
Wire Wire Line
	1450 2950 1450 3000
Connection ~ 1450 2950
Wire Wire Line
	1450 2950 1800 2950
Wire Wire Line
	1100 2950 1100 3000
Connection ~ 1100 2950
Wire Wire Line
	1100 2950 1450 2950
Wire Wire Line
	1100 3200 1100 3250
Connection ~ 1100 3250
Wire Wire Line
	1100 3250 1450 3250
Wire Wire Line
	1450 3200 1450 3250
Connection ~ 1450 3250
Wire Wire Line
	1450 3250 1800 3250
Text Notes 700  2650 0    50   ~ 0
VDD decoupling
Wire Wire Line
	4150 3300 4150 3750
$Comp
L power:GND #PWR07
U 1 1 5E3D8B34
P 4550 3550
F 0 "#PWR07" H 4550 3300 50  0001 C CNN
F 1 "GND" H 4550 3400 50  0000 C CNN
F 2 "" H 4550 3550 50  0001 C CNN
F 3 "" H 4550 3550 50  0001 C CNN
	1    4550 3550
	-1   0    0    1   
$EndComp
$Comp
L Device:Crystal_GND24 Y1
U 1 1 5E3D8F68
P 4550 3750
F 0 "Y1" H 4700 3850 50  0000 L CNN
F 1 "HSE" H 4700 3650 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_Abracon_ABM3C-4Pin_5.0x3.2mm" H 4550 3750 50  0001 C CNN
F 3 "~" H 4550 3750 50  0001 C CNN
	1    4550 3750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5E3D8F9E
P 4550 4150
F 0 "#PWR08" H 4550 3900 50  0001 C CNN
F 1 "GND" H 4555 3977 50  0000 C CNN
F 2 "" H 4550 4150 50  0001 C CNN
F 3 "" H 4550 4150 50  0001 C CNN
	1    4550 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4400 3750 4150 3750
$Comp
L Device:C_Small C9
U 1 1 5E3DA2D5
P 4150 3900
F 0 "C9" H 4242 3946 50  0000 L CNN
F 1 "20p" H 4242 3855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4150 3900 50  0001 C CNN
F 3 "~" H 4150 3900 50  0001 C CNN
	1    4150 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 3800 4150 3750
Connection ~ 4150 3750
$Comp
L Device:C_Small C10
U 1 1 5E3DACD0
P 4950 3900
F 0 "C10" H 5042 3946 50  0000 L CNN
F 1 "20p" H 5042 3855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4950 3900 50  0001 C CNN
F 3 "~" H 4950 3900 50  0001 C CNN
	1    4950 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4950 3800 4950 3750
Wire Wire Line
	4950 3750 4700 3750
Wire Wire Line
	4150 4000 4150 4050
Wire Wire Line
	4150 4050 4550 4050
Wire Wire Line
	4950 4050 4950 4000
Wire Wire Line
	4550 3950 4550 4050
Connection ~ 4550 4050
Wire Wire Line
	4550 4050 4950 4050
Wire Wire Line
	4550 4050 4550 4150
Wire Wire Line
	4950 3750 4950 3400
Connection ~ 4950 3750
$Comp
L Device:R R3
U 1 1 5E3E1436
P 5500 3400
F 0 "R3" V 5600 3400 50  0000 C CNN
F 1 "390" V 5500 3400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5430 3400 50  0001 C CNN
F 3 "~" H 5500 3400 50  0001 C CNN
	1    5500 3400
	0    1    1    0   
$EndComp
Wire Wire Line
	5650 3400 5950 3400
$Comp
L power:VDDA #PWR012
U 1 1 5E3E315A
P 6950 1900
F 0 "#PWR012" H 6950 1750 50  0001 C CNN
F 1 "VDDA" H 6967 2073 50  0000 C CNN
F 2 "" H 6950 1900 50  0001 C CNN
F 3 "" H 6950 1900 50  0001 C CNN
	1    6950 1900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 5E3E7218
P 750 4400
F 0 "#PWR04" H 750 4150 50  0001 C CNN
F 1 "GND" H 755 4227 50  0000 C CNN
F 2 "" H 750 4400 50  0001 C CNN
F 3 "" H 750 4400 50  0001 C CNN
	1    750  4400
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C2
U 1 1 5E3E721E
P 750 4200
F 0 "C2" H 842 4246 50  0000 L CNN
F 1 "1u" H 842 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 750 4200 50  0001 C CNN
F 3 "~" H 750 4200 50  0001 C CNN
	1    750  4200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C4
U 1 1 5E3E7225
P 1100 4200
F 0 "C4" H 1192 4246 50  0000 L CNN
F 1 "10n" H 1192 4155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1100 4200 50  0001 C CNN
F 3 "~" H 1100 4200 50  0001 C CNN
	1    1100 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	750  4000 750  4050
Wire Wire Line
	750  4300 750  4350
Wire Wire Line
	750  4050 1100 4050
Connection ~ 750  4050
Wire Wire Line
	750  4050 750  4100
Wire Wire Line
	750  4350 1100 4350
Connection ~ 750  4350
Wire Wire Line
	750  4350 750  4400
Wire Wire Line
	1100 4050 1100 4100
Wire Wire Line
	1100 4300 1100 4350
Text Notes 700  3750 0    50   ~ 0
VDDA decoupling
$Comp
L Jumper:Jumper_3_Open JP1
U 1 1 5E3EAEFE
P 4250 2300
F 0 "JP1" V 4296 2387 50  0000 L CNN
F 1 "boot select" V 4205 2387 50  0000 L CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical" H 4250 2300 50  0001 C CNN
F 3 "~" H 4250 2300 50  0001 C CNN
	1    4250 2300
	0    -1   -1   0   
$EndComp
Text Notes 9600 6350 0    50   ~ 0
TODO:\n- Figure out power distribution\n- data output connector for leds\n- power input connector\n
$Comp
L power:VDDA #PWR03
U 1 1 5E3FE15B
P 750 4000
F 0 "#PWR03" H 750 3850 50  0001 C CNN
F 1 "VDDA" H 767 4173 50  0000 C CNN
F 2 "" H 750 4000 50  0001 C CNN
F 3 "" H 750 4000 50  0001 C CNN
	1    750  4000
	1    0    0    -1  
$EndComp
Text Notes 850  650  0    50   ~ 0
JTAG Programmer
Text Label 7400 3400 0    50   ~ 0
SWDIO
Wire Wire Line
	7700 3400 7350 3400
Text Label 7400 3500 0    50   ~ 0
SWCLK
Wire Wire Line
	7700 3500 7350 3500
Text Label 7400 4100 0    50   ~ 0
SWO
Wire Wire Line
	7700 4100 7350 4100
Wire Wire Line
	4750 2300 5950 2300
Wire Wire Line
	4450 2300 4400 2300
Wire Wire Line
	7350 2100 7900 2100
$Comp
L MCU_ST_STM32F3:STM32F303RETx U1
U 1 1 5F40C94C
P 6650 3700
F 0 "U1" H 6650 2500 50  0000 C CNN
F 1 "STM32F303RETx" H 6650 2400 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 6050 2000 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00118585.pdf" H 6650 3700 50  0001 C CNN
	1    6650 3700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 5F430C9E
P 2150 3100
F 0 "C6" H 2242 3146 50  0000 L CNN
F 1 "100n" H 2242 3055 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2150 3100 50  0001 C CNN
F 3 "~" H 2150 3100 50  0001 C CNN
	1    2150 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 2950 2150 2950
Wire Wire Line
	2150 2950 2150 3000
Connection ~ 1800 2950
Wire Wire Line
	2150 3200 2150 3250
Wire Wire Line
	2150 3250 1800 3250
Connection ~ 1800 3250
Wire Wire Line
	6850 5500 6750 5500
Connection ~ 6550 5500
Wire Wire Line
	6550 5500 6450 5500
Connection ~ 6650 5500
Wire Wire Line
	6650 5500 6550 5500
Connection ~ 6750 5500
Wire Wire Line
	6750 5500 6650 5500
$Comp
L power:GND #PWR014
U 1 1 5F44F05E
P 6450 5500
F 0 "#PWR014" H 6450 5250 50  0001 C CNN
F 1 "GND" H 6455 5327 50  0000 C CNN
F 2 "" H 6450 5500 50  0001 C CNN
F 3 "" H 6450 5500 50  0001 C CNN
	1    6450 5500
	1    0    0    -1  
$EndComp
Connection ~ 6450 5500
$Comp
L power:VDD #PWR013
U 1 1 5F456982
P 6450 1900
F 0 "#PWR013" H 6450 1750 50  0001 C CNN
F 1 "VDD" H 6467 2073 50  0000 C CNN
F 2 "" H 6450 1900 50  0001 C CNN
F 3 "" H 6450 1900 50  0001 C CNN
	1    6450 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 1900 6550 1900
Connection ~ 6450 1900
Connection ~ 6550 1900
Wire Wire Line
	6550 1900 6650 1900
Connection ~ 6650 1900
Wire Wire Line
	6650 1900 6750 1900
Connection ~ 6750 1900
Wire Wire Line
	6750 1900 6850 1900
Wire Wire Line
	7350 3600 7700 3600
$Comp
L Connector:Conn_ARM_JTAG_SWD_10 J2
U 1 1 5F468D97
P 1050 1550
F 0 "J2" H 1300 2150 50  0000 R CNN
F 1 "Conn_ARM_JTAG_SWD_10" H 2050 950 50  0000 R CNN
F 2 "digikey-footprints:PinHeader_2x5_P1.27mm_Drill.7mm" H 1050 1550 50  0001 C CNN
F 3 "http://infocenter.arm.com/help/topic/com.arm.doc.ddi0314h/DDI0314H_coresight_components_trm.pdf" V 700 300 50  0001 C CNN
	1    1050 1550
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR011
U 1 1 5F4707A3
P 1050 2150
F 0 "#PWR011" H 1050 1900 50  0001 C CNN
F 1 "GND" H 1055 1977 50  0000 C CNN
F 2 "" H 1050 2150 50  0001 C CNN
F 3 "" H 1050 2150 50  0001 C CNN
	1    1050 2150
	1    0    0    -1  
$EndComp
Text Label 1600 1250 0    50   ~ 0
RESET#
Wire Wire Line
	1600 1250 1550 1250
Wire Wire Line
	1900 1450 1550 1450
Wire Wire Line
	1900 1550 1550 1550
Wire Wire Line
	1900 1650 1550 1650
Wire Wire Line
	1900 1750 1550 1750
Text Label 1600 1450 0    50   ~ 0
SWCLK
Text Label 1600 1550 0    50   ~ 0
SWDIO
Text Label 1600 1650 0    50   ~ 0
SWO
$Comp
L power:VDD #PWR010
U 1 1 5F47F5D9
P 1050 950
F 0 "#PWR010" H 1050 800 50  0001 C CNN
F 1 "VDD" H 1067 1123 50  0000 C CNN
F 2 "" H 1050 950 50  0001 C CNN
F 3 "" H 1050 950 50  0001 C CNN
	1    1050 950 
	1    0    0    -1  
$EndComp
Text Label 1900 1550 0    50   ~ 0
JTAG_TMS
Text Label 7700 3400 0    50   ~ 0
JTAG_TMS
Text Label 1900 1450 0    50   ~ 0
JTAG_TCK
Text Label 7700 3500 0    50   ~ 0
JTAG_TCK
Text Label 1900 1650 0    50   ~ 0
JTAG_TDO
Text Label 7700 4100 0    50   ~ 0
JTAG_TDO
Text Label 1900 1750 0    50   ~ 0
JTAG_TDI
Text Label 7700 3600 0    50   ~ 0
JTAG_TDI
Text Label 5650 2100 0    50   ~ 0
RESET#
Wire Wire Line
	950  2150 1050 2150
Connection ~ 1050 2150
Text Notes 2300 650  0    50   ~ 0
SWD pins for ST-LINK/V2-1
$Comp
L Connector:Conn_01x06_Female J1
U 1 1 5F3FB993
P 2600 1350
F 0 "J1" H 2450 800 50  0000 C CNN
F 1 "SWD holes" H 2450 900 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 2600 1350 50  0001 C CNN
F 3 "~" H 2600 1350 50  0001 C CNN
	1    2600 1350
	-1   0    0    1   
$EndComp
Wire Wire Line
	2800 1550 3100 1550
$Comp
L power:GND #PWR089
U 1 1 5F401CDC
P 3100 1350
F 0 "#PWR089" H 3100 1100 50  0001 C CNN
F 1 "GND" V 3105 1222 50  0000 R CNN
F 2 "" H 3100 1350 50  0001 C CNN
F 3 "" H 3100 1350 50  0001 C CNN
	1    3100 1350
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2800 1050 2850 1050
$Comp
L power:VDD #PWR090
U 1 1 5F4038EE
P 3100 1550
F 0 "#PWR090" H 3100 1400 50  0001 C CNN
F 1 "VDD" V 3100 1750 50  0000 C CNN
F 2 "" H 3100 1550 50  0001 C CNN
F 3 "" H 3100 1550 50  0001 C CNN
	1    3100 1550
	0    1    1    0   
$EndComp
Wire Wire Line
	3100 1350 2800 1350
Wire Wire Line
	2800 1150 2850 1150
Wire Wire Line
	2800 1250 2850 1250
Wire Wire Line
	2800 1450 2850 1450
Text Label 2850 1450 0    50   ~ 0
SWCLK
Text Label 2850 1250 0    50   ~ 0
SWDIO
Text Label 2850 1150 0    50   ~ 0
RESET#
Text Label 2850 1050 0    50   ~ 0
SWO
$Comp
L Device:LED D33
U 1 1 5F42AA8E
P 10100 1250
F 0 "D33" V 10139 1133 50  0000 R CNN
F 1 "LED_5V" V 10048 1133 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 10100 1250 50  0001 C CNN
F 3 "~" H 10100 1250 50  0001 C CNN
	1    10100 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10100 1400 10100 1450
$Comp
L Device:R R6
U 1 1 5F42D8B5
P 10100 1600
F 0 "R6" H 10170 1646 50  0000 L CNN
F 1 "TBD" H 10170 1555 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 10030 1600 50  0001 C CNN
F 3 "~" H 10100 1600 50  0001 C CNN
	1    10100 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 1750 10100 1800
Wire Wire Line
	10100 1100 10100 1050
$Comp
L power:+5V #PWR091
U 1 1 5F432090
P 10100 1050
F 0 "#PWR091" H 10100 900 50  0001 C CNN
F 1 "+5V" H 10115 1223 50  0000 C CNN
F 2 "" H 10100 1050 50  0001 C CNN
F 3 "" H 10100 1050 50  0001 C CNN
	1    10100 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR092
U 1 1 5F4327B4
P 10100 1800
F 0 "#PWR092" H 10100 1550 50  0001 C CNN
F 1 "GND" H 10105 1627 50  0000 C CNN
F 2 "" H 10100 1800 50  0001 C CNN
F 3 "" H 10100 1800 50  0001 C CNN
	1    10100 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D34
U 1 1 5F435274
P 10600 1250
F 0 "D34" V 10639 1133 50  0000 R CNN
F 1 "LED_3V3" V 10548 1133 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 10600 1250 50  0001 C CNN
F 3 "~" H 10600 1250 50  0001 C CNN
	1    10600 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10600 1400 10600 1450
$Comp
L Device:R R7
U 1 1 5F43527B
P 10600 1600
F 0 "R7" H 10670 1646 50  0000 L CNN
F 1 "TBD" H 10670 1555 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 10530 1600 50  0001 C CNN
F 3 "~" H 10600 1600 50  0001 C CNN
	1    10600 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10600 1750 10600 1800
Wire Wire Line
	10600 1100 10600 1050
$Comp
L power:GND #PWR094
U 1 1 5F435289
P 10600 1800
F 0 "#PWR094" H 10600 1550 50  0001 C CNN
F 1 "GND" H 10605 1627 50  0000 C CNN
F 2 "" H 10600 1800 50  0001 C CNN
F 3 "" H 10600 1800 50  0001 C CNN
	1    10600 1800
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR093
U 1 1 5F43718F
P 10600 1050
F 0 "#PWR093" H 10600 900 50  0001 C CNN
F 1 "VDD" H 10617 1223 50  0000 C CNN
F 2 "" H 10600 1050 50  0001 C CNN
F 3 "" H 10600 1050 50  0001 C CNN
	1    10600 1050
	1    0    0    -1  
$EndComp
Text Notes 10050 700  0    50   ~ 0
Power Indicators
$Comp
L dk_Interface-Controllers:FT232RL-REEL U2
U 1 1 5F456441
P 3350 6150
F 0 "U2" H 2700 6750 60  0000 C CNN
F 1 "FT232RL-REEL" H 2700 6650 60  0000 C CNN
F 2 "digikey-footprints:SSOP-28_W5.30mm" H 3550 6350 60  0001 L CNN
F 3 "https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT232R.pdf" H 3550 6450 60  0001 L CNN
F 4 "768-1007-1-ND" H 3550 6550 60  0001 L CNN "Digi-Key_PN"
F 5 "FT232RL-REEL" H 3550 6650 60  0001 L CNN "MPN"
F 6 "Integrated Circuits (ICs)" H 3550 6750 60  0001 L CNN "Category"
F 7 "Interface - Controllers" H 3550 6850 60  0001 L CNN "Family"
F 8 "https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT232R.pdf" H 3550 6950 60  0001 L CNN "DK_Datasheet_Link"
F 9 "/product-detail/en/ftdi-future-technology-devices-international-ltd/FT232RL-REEL/768-1007-1-ND/1836402" H 3550 7050 60  0001 L CNN "DK_Detail_Page"
F 10 "IC USB FS SERIAL UART 28-SSOP" H 3550 7150 60  0001 L CNN "Description"
F 11 "FTDI, Future Technology Devices International Ltd" H 3550 7250 60  0001 L CNN "Manufacturer"
F 12 "Active" H 3550 7350 60  0001 L CNN "Status"
	1    3350 6150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 7350 3350 7350
Connection ~ 3250 7350
Wire Wire Line
	3250 7350 3150 7350
Connection ~ 3350 7350
Wire Wire Line
	3350 7350 3250 7350
$Comp
L power:GND #PWR0101
U 1 1 5F45BF87
P 3150 7350
F 0 "#PWR0101" H 3150 7100 50  0001 C CNN
F 1 "GND" H 3155 7177 50  0000 C CNN
F 2 "" H 3150 7350 50  0001 C CNN
F 3 "" H 3150 7350 50  0001 C CNN
	1    3150 7350
	1    0    0    -1  
$EndComp
Connection ~ 3150 7350
Wire Wire Line
	3450 7350 3550 7350
Connection ~ 3450 7350
Wire Wire Line
	3150 5650 3150 5550
Wire Wire Line
	3150 5550 3800 5550
Wire Wire Line
	3800 5550 3800 6050
Wire Wire Line
	3800 6050 3750 6050
NoConn ~ 3750 6150
NoConn ~ 2650 6150
NoConn ~ 2650 6050
Wire Wire Line
	3800 6050 3850 6050
Connection ~ 3800 6050
$Comp
L Device:C_Small C8
U 1 1 5F46DA68
P 3950 6050
F 0 "C8" V 4050 6050 50  0000 L CNN
F 1 "100n" V 4050 5800 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3950 6050 50  0001 C CNN
F 3 "~" H 3950 6050 50  0001 C CNN
	1    3950 6050
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4050 6050 4100 6050
$Comp
L power:GND #PWR0102
U 1 1 5F471CBF
P 4100 6050
F 0 "#PWR0102" H 4100 5800 50  0001 C CNN
F 1 "GND" V 4105 5922 50  0000 R CNN
F 2 "" H 4100 6050 50  0001 C CNN
F 3 "" H 4100 6050 50  0001 C CNN
	1    4100 6050
	0    -1   -1   0   
$EndComp
$Comp
L Connector:USB_B_Mini J3
U 1 1 5F4812D9
P 1100 5850
F 0 "J3" H 1100 6350 50  0000 C CNN
F 1 "USB_B_Mini" H 1100 6250 50  0000 C CNN
F 2 "" H 1250 5800 50  0001 C CNN
F 3 "~" H 1250 5800 50  0001 C CNN
	1    1100 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1100 6250 1000 6250
$Comp
L power:GND #PWR0103
U 1 1 5F48B279
P 1000 6250
F 0 "#PWR0103" H 1000 6000 50  0001 C CNN
F 1 "GND" H 1005 6077 50  0000 C CNN
F 2 "" H 1000 6250 50  0001 C CNN
F 3 "" H 1000 6250 50  0001 C CNN
	1    1000 6250
	1    0    0    -1  
$EndComp
Connection ~ 1000 6250
NoConn ~ 1400 6050
Wire Wire Line
	1400 5850 2650 5850
Wire Wire Line
	2650 5950 1400 5950
Wire Wire Line
	2600 6250 2650 6250
Wire Wire Line
	3800 6250 3750 6250
Text Label 7400 3000 0    50   ~ 0
USART1_TX
Text Label 7400 3100 0    50   ~ 0
USART1_RX
Wire Wire Line
	7350 3000 7400 3000
Wire Wire Line
	7350 3100 7400 3100
Text Label 2600 6250 2    50   ~ 0
USART1_TX
Text Label 3800 6250 0    50   ~ 0
USART1_RX
NoConn ~ 3750 6350
NoConn ~ 3750 6450
NoConn ~ 2650 6450
NoConn ~ 2650 6550
NoConn ~ 2650 6650
NoConn ~ 2650 6750
NoConn ~ 2650 6850
NoConn ~ 2650 6950
$Comp
L power:+5V #PWR0104
U 1 1 5F51AB08
P 1550 6400
F 0 "#PWR0104" H 1550 6250 50  0001 C CNN
F 1 "+5V" H 1565 6573 50  0000 C CNN
F 2 "" H 1550 6400 50  0001 C CNN
F 3 "" H 1550 6400 50  0001 C CNN
	1    1550 6400
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D35
U 1 1 5F51C9F7
P 1550 6550
F 0 "D35" V 1650 6500 50  0000 R CNN
F 1 "LED_TX" H 1650 6650 50  0000 R CNN
F 2 "" H 1550 6550 50  0001 C CNN
F 3 "~" H 1550 6550 50  0001 C CNN
	1    1550 6550
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R8
U 1 1 5F51DAC6
P 1550 6850
F 0 "R8" H 1600 6850 50  0000 L CNN
F 1 "1k" V 1550 6800 50  0000 L CNN
F 2 "" V 1480 6850 50  0001 C CNN
F 3 "~" H 1550 6850 50  0001 C CNN
	1    1550 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 7000 1550 7150
Wire Wire Line
	1550 7150 2650 7150
$Comp
L power:+5V #PWR0105
U 1 1 5F52E2B1
P 1900 6400
F 0 "#PWR0105" H 1900 6250 50  0001 C CNN
F 1 "+5V" H 1915 6573 50  0000 C CNN
F 2 "" H 1900 6400 50  0001 C CNN
F 3 "" H 1900 6400 50  0001 C CNN
	1    1900 6400
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D36
U 1 1 5F52E2B7
P 1900 6550
F 0 "D36" V 2000 6500 50  0000 R CNN
F 1 "LED_RX" H 2000 6650 50  0000 R CNN
F 2 "" H 1900 6550 50  0001 C CNN
F 3 "~" H 1900 6550 50  0001 C CNN
	1    1900 6550
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R9
U 1 1 5F52E2BD
P 1900 6850
F 0 "R9" H 1950 6850 50  0000 L CNN
F 1 "1k" V 1900 6800 50  0000 L CNN
F 2 "" V 1830 6850 50  0001 C CNN
F 3 "~" H 1900 6850 50  0001 C CNN
	1    1900 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 7000 1900 7050
Wire Wire Line
	1900 7050 2650 7050
NoConn ~ 2650 6350
Text Notes 550  7700 0    50   ~ 0
TODO:\n- Configure as self powered USB device\n  (i.e. don't use the usb connector to power on any components)
$Comp
L Device:LED D38
U 1 1 5F54A51D
P 10650 2550
F 0 "D38" V 10689 2432 50  0000 R CNN
F 1 "DEBUG_2" V 10598 2432 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 10650 2550 50  0001 C CNN
F 3 "~" H 10650 2550 50  0001 C CNN
	1    10650 2550
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10650 2700 10650 2750
$Comp
L Device:R R11
U 1 1 5F54A524
P 10650 2900
F 0 "R11" H 10720 2946 50  0000 L CNN
F 1 "1K" H 10720 2855 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 10580 2900 50  0001 C CNN
F 3 "~" H 10650 2900 50  0001 C CNN
	1    10650 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	10650 3050 10650 3100
$Comp
L power:GND #PWR0106
U 1 1 5F54A52C
P 10650 3100
F 0 "#PWR0106" H 10650 2850 50  0001 C CNN
F 1 "GND" H 10655 2927 50  0000 C CNN
F 2 "" H 10650 3100 50  0001 C CNN
F 3 "" H 10650 3100 50  0001 C CNN
	1    10650 3100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 5F54A517
P 10050 3100
F 0 "#PWR0107" H 10050 2850 50  0001 C CNN
F 1 "GND" H 10055 2927 50  0000 C CNN
F 2 "" H 10050 3100 50  0001 C CNN
F 3 "" H 10050 3100 50  0001 C CNN
	1    10050 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	10050 3050 10050 3100
$Comp
L Device:R R10
U 1 1 5F54A509
P 10050 2900
F 0 "R10" H 10120 2946 50  0000 L CNN
F 1 "1K" H 10120 2855 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" V 9980 2900 50  0001 C CNN
F 3 "~" H 10050 2900 50  0001 C CNN
	1    10050 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	10050 2700 10050 2750
$Comp
L Device:LED D37
U 1 1 5F54A502
P 10050 2550
F 0 "D37" V 10089 2432 50  0000 R CNN
F 1 "DEBUG_1" V 9998 2432 50  0000 R CNN
F 2 "LED_SMD:LED_0805_2012Metric" H 10050 2550 50  0001 C CNN
F 3 "~" H 10050 2550 50  0001 C CNN
	1    10050 2550
	0    -1   -1   0   
$EndComp
Text Label 7400 2200 0    50   ~ 0
DEBUG_1
Text Label 7400 2300 0    50   ~ 0
DEBUG_2
Text Label 10050 2350 0    50   ~ 0
DEBUG_1
Wire Wire Line
	10050 2350 10050 2400
Wire Wire Line
	10650 2400 10650 2350
Text Label 10650 2350 0    50   ~ 0
DEBUG_2
Text Notes 10050 2200 0    50   ~ 0
DEBUG LEDs
$Comp
L Device:C_Small C12
U 1 1 5F5984C4
P 4000 6900
F 0 "C12" H 4092 6946 50  0000 L CNN
F 1 "4.7u" H 4092 6855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4000 6900 50  0001 C CNN
F 3 "~" H 4000 6900 50  0001 C CNN
	1    4000 6900
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C13
U 1 1 5F598D5E
P 4400 6900
F 0 "C13" H 4492 6946 50  0000 L CNN
F 1 "100n" H 4492 6855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4400 6900 50  0001 C CNN
F 3 "~" H 4400 6900 50  0001 C CNN
	1    4400 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 6800 4000 6750
Wire Wire Line
	4000 6750 4400 6750
Wire Wire Line
	4400 6750 4400 6800
Wire Wire Line
	4400 7000 4400 7050
Wire Wire Line
	4400 7050 4000 7050
Wire Wire Line
	4000 7050 4000 7000
Wire Wire Line
	4000 7050 4000 7100
Connection ~ 4000 7050
Wire Wire Line
	4000 6750 4000 6700
Connection ~ 4000 6750
$Comp
L power:GND #PWR0108
U 1 1 5F5AA434
P 4000 7100
F 0 "#PWR0108" H 4000 6850 50  0001 C CNN
F 1 "GND" H 4005 6927 50  0000 C CNN
F 2 "" H 4000 7100 50  0001 C CNN
F 3 "" H 4000 7100 50  0001 C CNN
	1    4000 7100
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0109
U 1 1 5F5AB4E6
P 4000 6700
F 0 "#PWR0109" H 4000 6550 50  0001 C CNN
F 1 "+5V" H 4015 6873 50  0000 C CNN
F 2 "" H 4000 6700 50  0001 C CNN
F 3 "" H 4000 6700 50  0001 C CNN
	1    4000 6700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0110
U 1 1 5F5ABBD7
P 3250 5450
F 0 "#PWR0110" H 3250 5300 50  0001 C CNN
F 1 "+5V" H 3265 5623 50  0000 C CNN
F 2 "" H 3250 5450 50  0001 C CNN
F 3 "" H 3250 5450 50  0001 C CNN
	1    3250 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 5450 3250 5650
Wire Notes Line
	500  5000 5000 5000
Wire Notes Line
	5000 5000 5000 7750
Wire Notes Line
	5000 7750 500  7750
Wire Notes Line
	500  7750 500  5000
Text Notes 550  5150 0    50   ~ 0
UART-USB Bridge
Wire Wire Line
	5350 3400 4950 3400
Wire Wire Line
	5950 3300 4150 3300
Wire Wire Line
	7400 2200 7350 2200
Wire Wire Line
	7400 2300 7350 2300
NoConn ~ 7350 3200
NoConn ~ 7350 3300
$Sheet
S 7900 2000 550  200 
U 5E444A98
F0 "rgb" 50
F1 "rgb.sch" 50
F2 "DIN" I L 7900 2100 50 
$EndSheet
Text Notes 7150 6450 0    50   ~ 0
TODO (Power):\n- Regulators\n  * 3V3 digital\n  * 3V3 analog\n  * 5V logic\n  * 5V leds\n- Power routing (usb power to mcu with a jumper)
Text Label 7500 2400 0    50   ~ 0
m0
Text Label 7500 2500 0    50   ~ 0
m1
Text Label 7500 2600 0    50   ~ 0
m2
Text Label 7500 2700 0    50   ~ 0
m3
Text Label 7500 2800 0    50   ~ 0
m4
Text Label 7500 2900 0    50   ~ 0
m5
Text Label 7500 3800 0    50   ~ 0
m6
Text Label 7500 3900 0    50   ~ 0
m7
Text Notes 8550 3950 0    50   ~ 0
Electromagnet control signals: m[0..15]\nPhoto gate sensor inputs: s[0..15]
Text Label 7500 4000 0    50   ~ 0
m8
Text Label 7500 4200 0    50   ~ 0
m9
Text Label 7500 4300 0    50   ~ 0
m10
Text Label 7500 4400 0    50   ~ 0
m11
Text Label 7500 4500 0    50   ~ 0
m12
Text Label 7500 4600 0    50   ~ 0
m13
Text Label 7500 4700 0    50   ~ 0
m14
Text Label 7500 4800 0    50   ~ 0
m15
Text Label 8150 4950 0    50   ~ 0
p0
$Comp
L power:GND #PWR?
U 1 1 5F529F84
P 10700 5550
F 0 "#PWR?" H 10700 5300 50  0001 C CNN
F 1 "GND" H 10705 5377 50  0000 C CNN
F 2 "" H 10700 5550 50  0001 C CNN
F 3 "" H 10700 5550 50  0001 C CNN
	1    10700 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	10700 5550 10700 5500
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J?
U 1 1 5F5307C2
P 10650 5300
F 0 "J?" H 10700 5517 50  0000 C CNN
F 1 "STACK_GND" H 10700 5426 50  0000 C CNN
F 2 "" H 10650 5300 50  0001 C CNN
F 3 "~" H 10650 5300 50  0001 C CNN
	1    10650 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	10450 5300 10450 5400
Wire Wire Line
	10450 5500 10700 5500
Connection ~ 10450 5400
Wire Wire Line
	10450 5400 10450 5500
Wire Wire Line
	10700 5500 10950 5500
Wire Wire Line
	10950 5500 10950 5400
Connection ~ 10700 5500
Connection ~ 10950 5400
Wire Wire Line
	10950 5400 10950 5300
$EndSCHEMATC
